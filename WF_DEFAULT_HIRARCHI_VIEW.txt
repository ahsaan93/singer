CREATE OR REPLACE VIEW WF_DEFAULT_HIRARCHI_VIEW AS
SELECT S.STRENGTHID,  S.PRIMARYEMPID, E.EMPLOYEENAME, U.USER_ID, S.APPROVALTYPEID,S.STRENGTHPARENTID, D.DEPT_ID, D.DEPT_NAME,
SS.STRENGTHID AS PARENT_ID,  SS.PRIMARYEMPID AS PARENT_EMP_ID, EE.EMPLOYEENAME AS PARENT_EMP_NAME,
UU.USER_ID AS PARENT_USER_ID, EE.DEPARTMENTID AS PARENT_DEPT_ID, DD.DEPT_NAME AS PARENT_DEPT_NAME, SS.APPROVALTYPEID AS PARENTAPPROVALTYPEID, SS.TRANSACTIONALAPPROVALLIMIT, SS.MONTHLYAPPROVALLIMIT
FROM HR_APPROVED_STRENGTH S, HR_EMP_PROFILE E, USER_SETUP U, HR_DEPARTMENTS_VIEW D,
HR_APPROVED_STRENGTH SS, HR_EMP_PROFILE EE, USER_SETUP UU, HR_DEPARTMENTS_VIEW DD

WHERE S.PRIMARYEMPID = E.EMPLOYEEID
AND E.EMPLOYEEID=U.EMP_NO
AND E.DEPARTMENTID(+) = D.DEPT_ID

AND SS.PRIMARYEMPID = EE.EMPLOYEEID
AND EE.EMPLOYEEID=UU.EMP_NO
AND EE.DEPARTMENTID(+) = DD.DEPT_ID
AND S.STRENGTHPARENTID=SS.STRENGTHID;
