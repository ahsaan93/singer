----issue night stay pass id to guest----
FUNCTION ISSUE_PASS_ID RETURN VARCHAR2 IS

  MAX_ID NUMBER(15);
  X VARCHAR2(30);
  Y VARCHAR2(30);
  I NUMBER(15):=0;
BEGIN

  SELECT MAX(APPLICATION_ID) INTO MAX_ID FROM SIT_GUEST_APP_T;
    
  FOR I IN 1..MAX_ID
    LOOP
        BEGIN
          SELECT PASS_ID INTO X FROM SIT_GUEST_APP_T WHERE PASS_ID = 'NSP - '||I;
        EXCEPTION WHEN NO_DATA_FOUND THEN Y:= 'NSP - '||I; EXIT;
        END;
    END LOOP;
    
    RETURN Y;
 -- DBMS_OUTPUT.PUT_LINE(Y);
END;